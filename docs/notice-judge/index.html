<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="CPLR §2219(a) - Judicial Compliance - Notice of Non-Compliance - Judge">
    <title>Notice of Non-Compliance - Judge | Procedural Compliance Framework</title>

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>⚖️</text></svg>">

    <!-- USWDS Public Sans Font -->
    <link rel="preload" href="/fonts/public-sans/PublicSans-Regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/fonts/public-sans/PublicSans-SemiBold.woff2" as="font" type="font/woff2" crossorigin>

    <!-- Social Preview Meta Tags -->
    <meta property="og:title" content="Notice of Non-Compliance - Judge">
    <meta property="og:description" content="CPLR §2219(a) - Judicial Compliance">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://proceduralcompliance.org/notice-judge/">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                container: {
                    center: true,
                    padding: '1rem',
                    screens: {
                        sm: '1100px',
                        md: '1100px',
                        lg: '1100px',
                        xl: '1100px',
                        '2xl': '1100px'
                    }
                },
                extend: {
                    colors: {
                        border: '#dfe1e2',
                        input: '#dfe1e2',
                        ring: '#005EA2',
                        background: '#ffffff',
                        foreground: '#1b1b1b',
                        primary: {
                            DEFAULT: '#005EA2',
                            foreground: '#ffffff'
                        },
                        secondary: {
                            DEFAULT: '#f9fafb',
                            foreground: '#1a1a1a'
                        },
                        muted: {
                            DEFAULT: '#f9fafb',
                            foreground: '#6b7280'
                        },
                        accent: {
                            DEFAULT: '#b8860b',
                            foreground: '#ffffff'
                        }
                    },
                    fontFamily: {
                        serif: ['Georgia', 'Cambria', 'Times New Roman', 'serif'],
                        sans: ['Public Sans', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],
                        mono: ['Monaco', 'Courier New', 'monospace']
                    }
                }
            }
        }
    </script>

    <link rel="stylesheet" href="/styles.css">
</head>
<body class="bg-background text-foreground font-sans antialiased">
    <!-- Skip Navigation Link -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-primary focus:text-primary-foreground focus:rounded focus:outline-none focus:ring-4 focus:ring-ring focus:ring-offset-2">
        Skip to main content
    </a>

    <!-- US Government-Style Banner -->
    <section class="gov-banner" role="region" aria-label="Official government-style notice">
        <div class="container mx-auto px-4 py-2">
            <div class="flex items-center gap-2">
                <img src="/us_flag_small.png" class="gov-banner-flag" alt="U.S. flag" loading="eager">
                <p class="gov-banner-text">An open framework for documenting procedural compliance · Not legal advice</p>
            </div>
        </div>
    </section>

    <!-- Header -->
    <header class="w-full border-b border-border bg-background" role="banner">
        <div class="container mx-auto px-4 py-3">
            <div class="flex flex-col md:flex-row md:h-14 md:items-center md:justify-between gap-3 md:gap-0">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-2">
                        <span class="text-xl" role="img" aria-label="Scales of justice">⚖️</span>
                        <h1 class="text-lg font-sans font-semibold">
                            <a href="/" class="hover:text-primary transition-colors">Procedural Compliance Framework</a>
                        </h1>
                    </div>
                    <nav class="hidden md:flex items-center space-x-6 text-sm ml-8">
                        <a href="/#templates" class="text-foreground/80 hover:text-foreground transition-colors">Templates</a>
                        <a href="https://github.com/josephfusco/procedural-compliance" target="_blank" rel="noopener noreferrer" class="text-foreground/80 hover:text-foreground transition-colors">GitHub</a>
                    </nav>
                </div>
                <div class="flex items-center gap-2">
                    <button id="theme-toggle" class="flex items-center justify-center px-4 py-2 text-sm font-medium text-foreground bg-transparent rounded border-2 border-border hover:bg-muted transition-colors focus:outline-none focus:ring-4 focus:ring-ring focus:ring-offset-2" aria-label="Light mode. Click to toggle" role="switch" aria-checked="false">
                        <span id="theme-label">Light</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Breadcrumb Navigation -->
    <nav class="border-b border-border bg-muted/30" aria-label="Breadcrumb">
        <div class="container mx-auto px-4 py-3">
            <ol class="flex items-center space-x-2 text-sm">
                <li><a href="/" class="text-foreground/60 hover:text-foreground transition-colors">Home</a></li>
                <li class="text-foreground/40">/</li>
                <li><a href="/#templates" class="text-foreground/60 hover:text-foreground transition-colors">Templates</a></li>
                <li class="text-foreground/40">/</li>
                <li class="text-foreground font-medium" aria-current="page">Notice of Non-Compliance - Judge</li>
            </ol>
        </div>
    </nav>

    <main id="main-content" role="main">
        <!-- Template Header -->
        <div class="border-b border-border bg-muted/30">
            <div class="container mx-auto px-4 py-8">
                <div class="flex items-start justify-between gap-4">
                    <div class="flex-1">
                        <div class="flex items-center gap-3 mb-3">
                            <span class="badge badge-ny">NY</span>
                            <h1 class="text-3xl font-sans font-semibold text-foreground">Notice of Non-Compliance - Judge</h1>
                        </div>
                        <p class="text-base text-muted-foreground">CPLR §2219(a) - Judicial Compliance</p>
                    </div>
                    <div class="flex gap-2">
                        <a href="https://github.com/josephfusco/procedural-compliance/blob/main/templates/notice_judge.md" target="_blank" rel="noopener noreferrer" class="px-4 py-2 text-sm font-medium text-foreground bg-transparent rounded border-2 border-border hover:bg-muted transition-colors focus:outline-none focus:ring-4 focus:ring-ring focus:ring-offset-2">
                            Edit on GitHub
                        </a>
                        <a href="https://raw.githubusercontent.com/josephfusco/procedural-compliance/main/templates/notice_judge.md" download="notice_judge.md" class="px-4 py-2 text-sm font-medium text-primary-foreground bg-primary rounded border-2 border-primary hover:bg-primary/90 transition-colors focus:outline-none focus:ring-4 focus:ring-ring focus:ring-offset-2">
                            Download
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Template Content with Sidebar -->
        <div class="container mx-auto px-4 py-12">
            <div class="docs-layout">
                <!-- Table of Contents Sidebar -->
                <aside class="docs-sidebar" aria-label="Table of contents">
                    <nav class="docs-toc" id="docs-toc">
                        <h4>On This Page</h4>
                        <ul class="docs-toc-list" id="docs-toc-list">
                            <!-- Auto-populated by JavaScript -->
                        </ul>
                    </nav>
                </aside>

                <!-- Main Content -->
                <div class="docs-content">
                    <div class="prose prose-slate" id="template-content">
                        <hr>
<p><strong>JURISDICTION: NEW YORK</strong></p>
<h2>This template applies to New York State courts (Supreme, Family, Appellate Division) governed by CPLR, DRL, FCA, and 22 NYCRR.</h2>
<h1>NOTICE OF NON-COMPLIANCE — JUDGE</h1>
<p><strong>[NY][CPLR] Demand for Written Decision with Findings</strong></p>
<hr>

<div class="usa-alert usa-alert--warning">
    <div class="usa-alert__body">
        <h3 class="usa-alert__heading">
            <span class="usa-alert__icon">⚠️</span>
            Before Using This Template
        </h3>
        <div class="usa-alert__text">
            

        </div>
    </div>
</div>
<div class="usa-accordion">
    <div class="usa-accordion__item">
        <button
            class="usa-accordion__button"
            aria-expanded="true"
            aria-controls="accordion-0"
            onclick="this.setAttribute('aria-expanded', this.getAttribute('aria-expanded') === 'true' ? 'false' : 'true'); document.getElementById('accordion-0').setAttribute('aria-hidden', this.getAttribute('aria-expanded') === 'true' ? 'false' : 'true');"
        >
            When to Use Notice to Judge
        </button>
        <div
            id="accordion-0"
            class="usa-accordion__content"
            aria-hidden="false"
        >
            <div class="usa-accordion__content-inner">
                
<p><strong>USE this template when:</strong></p>
<ul>
<li>Judge decided motions orally without written orders in NYSCEF/file</li>
<li>Decisions affect substantive rights or may be appealed</li>
<li>You&#39;ve waited reasonable time (2-4 weeks) for written order</li>
<li>You need written findings for appellate record</li>
<li>Judge&#39;s ruling involves discretion that should be documented</li>
</ul>
<p><strong>DO NOT use this if:</strong></p>
<ul>
<li>Oral ruling was made on the record (transcript exists)</li>
<li>This is routine procedural matter (scheduling, adjournments)</li>
<li>Written order already exists but you disagree with it (file appeal instead)</li>
<li>You&#39;re seeking to re-argue the merits (this won&#39;t change the decision)</li>
<li>No prejudice from lack of written order (harmless error)</li>
</ul>
<p><strong>Appropriate example:</strong> Judge decided dispositive motion #5 orally 6 weeks ago; no written order in NYSCEF; you need it for appeal.</p>
<p><strong>Inappropriate example:</strong> Judge denied your motion last week and you want to argue about it (this isn&#39;t a motion for reconsideration).</p>

            </div>
        </div>
    </div>
</div>
<div class="usa-accordion">
    <div class="usa-accordion__item">
        <button
            class="usa-accordion__button"
            aria-expanded="false"
            aria-controls="accordion-1"
            onclick="this.setAttribute('aria-expanded', this.getAttribute('aria-expanded') === 'true' ? 'false' : 'true'); document.getElementById('accordion-1').setAttribute('aria-hidden', this.getAttribute('aria-expanded') === 'true' ? 'false' : 'true');"
        >
            Try These Steps First
        </button>
        <div
            id="accordion-1"
            class="usa-accordion__content"
            aria-hidden="true"
        >
            <div class="usa-accordion__content-inner">
                
<p><strong>Before sending this notice:</strong></p>
<ol>
<li><strong>Check NYSCEF/docket</strong> to confirm no written order was entered</li>
<li><strong>Wait 2-4 weeks</strong> after oral ruling (courts have backlogs)</li>
<li><strong>Email clerk</strong> politely asking about status of written order</li>
<li><strong>Court appearance:</strong> Ask court attorney/clerk when order will be issued</li>
<li><strong>Informal letter:</strong> Send respectful letter to chambers requesting order</li>
</ol>
<p><strong>Document everything:</strong> Save emails, docket screenshots, and correspondence.</p>

            </div>
        </div>
    </div>
</div>
<div class="usa-accordion">
    <div class="usa-accordion__item">
        <button
            class="usa-accordion__button"
            aria-expanded="false"
            aria-controls="accordion-2"
            onclick="this.setAttribute('aria-expanded', this.getAttribute('aria-expanded') === 'true' ? 'false' : 'true'); document.getElementById('accordion-2').setAttribute('aria-hidden', this.getAttribute('aria-expanded') === 'true' ? 'false' : 'true');"
        >
            Resource Requirements &amp; Realistic Expectations
        </button>
        <div
            id="accordion-2"
            class="usa-accordion__content"
            aria-hidden="true"
        >
            <div class="usa-accordion__content-inner">
                
<p>⚠️ <strong>Important Considerations:</strong></p>
<ul>
<li><strong>Timeline:</strong> May take additional 2-8 weeks for judge to issue order after this notice</li>
<li><strong>Success rate:</strong> High if order truly missing; low if oral ruling was sufficient</li>
<li><strong>Legal nuance:</strong> CPLR §2219(a) primarily applies to final/dispositive orders</li>
<li><strong>Harmless error:</strong> Lack of written order may not be reversible error if no prejudice</li>
<li><strong>What this achieves:</strong> Creates record; may prompt written order; preserves issue for appeal</li>
<li><strong>What this does NOT do:</strong> Re-argue merits, guarantee reversal, or change judge&#39;s mind</li>
</ul>
<p><strong>Alternatives to consider:</strong></p>
<ul>
<li><strong>Appeal without written order:</strong> Appellate Division can review from transcript/record</li>
<li><strong>Motion to compel:</strong> If judge repeatedly refuses to issue required orders</li>
<li><strong>Article 78:</strong> If ministerial duty to enter order is clear and judge still refuses</li>
<li><strong>Consult attorney:</strong> To evaluate if written order is truly necessary for your appeal</li>
</ul>
<p><strong>Best practice:</strong> Use this after informal methods fail and written order is truly necessary (not just preferred).</p>
<hr>
<p><strong>TO:</strong> Hon. {{Judge Name}}, {{Court Title}}
<strong>FROM:</strong> {{Your Name}}, {{Pro Se / Counsel for Party}}
<strong>DATE:</strong> {{Date}}
<strong>CASE:</strong> {{Caption}} | Index No. {{Number}}
<strong>COURT:</strong> {{Court Name and County}}
<strong>SUBJECT:</strong> Demand for Written Order Stating Grounds and Papers Considered</p>
<hr>

            </div>
        </div>
    </div>
</div><h2>Legal Authority</h2>
<p>You are bound by:</p>
<ul>
<li><strong>CPLR §2219(a):</strong> &quot;An order shall state the grounds on which it is based and shall specify the papers on which it was made.&quot;</li>
<li><strong>22 NYCRR §202.48(b):</strong> Decisions on motions &quot;shall be in writing or on the record.&quot;</li>
<li><strong>CPLR §5704(a):</strong> Party may move to vacate or modify ex parte orders.</li>
<li><strong>Due Process:</strong> Right to notice, hearing, and written findings before deprivation of liberty or property interests.</li>
</ul>
<h2>Record Status</h2>
<p>As of {{date}}, the following motions or applications have been decided orally or without written orders entered in the record:</p>
<ol>
<li><strong>Motion No. {{ID}}</strong> — {{Subject}} — {{Oral ruling date or docket entry}}</li>
<li><strong>Motion No. {{ID}}</strong> — {{Subject}} — {{Oral ruling date or docket entry}}</li>
<li>{{Additional motions as applicable}}</li>
</ol>
<p>No written orders stating grounds or papers considered appear in the NYSCEF docket or court file.</p>
<h2>Demand</h2>
<p>Pursuant to the above statutory provisions, you are demanded to:</p>
<ol>
<li><p><strong>Enter written orders</strong> for each motion or application listed above, stating:</p>
<ul>
<li>Grounds for the decision</li>
<li>Papers and evidence considered</li>
<li>Findings of fact (if applicable)</li>
<li>Conclusions of law</li>
</ul>
</li>
<li><p><strong>Provide these orders within {{X}} business days</strong> of service of this notice.</p>
</li>
</ol>
<h2>Preservation and Record Notice</h2>
<p>This notice preserves the record for appellate review and administrative complaint under:</p>
<ul>
<li>CPLR Article 55 (appeals)</li>
<li>22 NYCRR Part 1 (judicial conduct)</li>
<li>Applicable federal civil rights statutes (42 U.S.C. §1983)</li>
</ul>
<h2>Service</h2>
<p>Served via {{NYSCEF upload / hand delivery / certified mail}} on {{date}}.</p>
<hr>
<p><strong>Certification of Service</strong></p>
<p>I certify that this Notice of Non-Compliance was served upon Hon. {{Judge Name}} via {{method}} on {{date}}.</p>
<p>{{Your Signature}}
{{Your Name}}
{{Address}}
{{Phone}}
{{Email}}</p>

                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="border-t-2 border-border bg-muted/30 py-12 mt-8" role="contentinfo">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-10">
                <div>
                    <h3 class="text-lg font-sans font-semibold mb-4 text-foreground">Open Collaboration</h3>
                    <p class="helpful-text text-sm mb-3 leading-relaxed">An open specification for verifying adherence to statutory procedure in state and federal courts. Contributions welcome.</p>
                    <p class="helpful-text text-sm font-medium"><strong>Not legal advice.</strong> Educational purposes only.</p>
                </div>

                <div>
                    <h3 class="text-lg font-sans font-semibold mb-4 text-foreground">Resources</h3>
                    <ul class="space-y-3 text-sm">
                        <li><a href="https://github.com/josephfusco/procedural-compliance" target="_blank" rel="noopener noreferrer" class="footer-link text-foreground/80 hover:text-foreground transition-colors underline decoration-1 underline-offset-2">GitHub Repository</a></li>
                        <li><a href="https://github.com/josephfusco/procedural-compliance/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="footer-link text-foreground/80 hover:text-foreground transition-colors underline decoration-1 underline-offset-2">Contributing Guide</a></li>
                        <li><a href="https://github.com/josephfusco/procedural-compliance/issues" target="_blank" rel="noopener noreferrer" class="footer-link text-foreground/80 hover:text-foreground transition-colors underline decoration-1 underline-offset-2">Report Issue</a></li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-lg font-sans font-semibold mb-4 text-foreground">Legal</h3>
                    <ul class="space-y-3 text-sm">
                        <li><a href="https://github.com/josephfusco/procedural-compliance/blob/main/LICENSE" target="_blank" rel="noopener noreferrer" class="footer-link text-foreground/80 hover:text-foreground transition-colors underline decoration-1 underline-offset-2">MIT License</a></li>
                    </ul>
                </div>

                <div>
                    <div class="flex items-center gap-2 mb-4">
                        <span class="badge badge-ny">NY</span>
                        <h3 class="text-lg font-sans font-semibold text-foreground">NY Court Resources</h3>
                    </div>
                    <ul class="space-y-3 text-sm">
                        <li><a href="https://www.nycourts.gov/efile/rules.shtml" target="_blank" rel="noopener noreferrer" class="footer-link text-foreground/80 hover:text-foreground transition-colors underline decoration-1 underline-offset-2">NYSCEF E-Filing Rules</a></li>
                        <li><a href="https://ww2.nycourts.gov/courts/index.shtml" target="_blank" rel="noopener noreferrer" class="footer-link text-foreground/80 hover:text-foreground transition-colors underline decoration-1 underline-offset-2">NY Court Directory</a></li>
                    </ul>
                </div>
            </div>

            <div class="border-t-2 border-border pt-8 text-center">
                <p class="text-sm text-foreground/70 font-medium">&copy; 2025 Procedural Compliance Framework (PCF)</p>
                <p class="text-sm text-foreground/70 mt-2">Released under MIT License • Open Source Legal Framework</p>
                <p class="text-xs text-foreground/60 mt-3">Accessibility: WCAG 2.1 AA • ADA Title II § 35.160 • Section 508 Standards</p>
            </div>
        </div>
    </footer>

    <!-- Theme Toggle Script -->
    <script>
        (function() {
            const THEMES = { LIGHT: 'light', DARK: 'dark' };
            const LABELS = { light: 'Light', dark: 'Dark' };
            const ARIA_LABELS = {
                light: 'Light mode. Click to switch to dark mode',
                dark: 'Dark mode. Click to switch to light mode'
            };

            const themeToggle = document.getElementById('theme-toggle');
            const themeLabel = document.getElementById('theme-label');
            const html = document.documentElement;

            function getSavedTheme() {
                return localStorage.getItem('theme') || THEMES.LIGHT;
            }

            function applyTheme(theme) {
                html.setAttribute('data-theme', theme);
                themeLabel.textContent = LABELS[theme];
                themeToggle.setAttribute('aria-checked', theme === THEMES.DARK ? 'true' : 'false');
                themeToggle.setAttribute('aria-label', ARIA_LABELS[theme]);
            }

            function toggleTheme() {
                const currentTheme = getSavedTheme();
                const nextTheme = currentTheme === THEMES.LIGHT ? THEMES.DARK : THEMES.LIGHT;
                localStorage.setItem('theme', nextTheme);
                applyTheme(nextTheme);
            }

            applyTheme(getSavedTheme());
            themeToggle.addEventListener('click', toggleTheme);
            themeToggle.addEventListener('keydown', (e) => {
                if (e.key === ' ' || e.key === 'Enter') {
                    e.preventDefault();
                    toggleTheme();
                }
            });
        })();
    </script>

    <!-- Template Content Enhancements -->
    <script>
        // Separate metadata from document
        const content = document.getElementById('template-content');
        if (content) {
            // Highlight placeholders
            const walker = document.createTreeWalker(content, NodeFilter.SHOW_TEXT, null);
            const nodesToReplace = [];
            while (walker.nextNode()) {
                const node = walker.currentNode;
                if (node.textContent.includes('{{') && node.textContent.includes('}}')) {
                    nodesToReplace.push(node);
                }
            }

            nodesToReplace.forEach(node => {
                const fragment = document.createDocumentFragment();
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = node.textContent.replace(
                    /\{\{([^}]+)\}\}/g,
                    '<span class="template-placeholder">{{$1}}</span>'
                );
                while (tempDiv.firstChild) {
                    fragment.appendChild(tempDiv.firstChild);
                }
                node.parentNode.replaceChild(fragment, node);
            });
        }
    </script>

    <!-- Table of Contents Generation & Scroll Spy -->
    <script>
        (function() {
            const content = document.getElementById('template-content');
            const tocList = document.getElementById('docs-toc-list');

            if (!content || !tocList) return;

            // Generate slug from heading text
            function generateSlug(text) {
                return text
                    .toLowerCase()
                    .replace(/[^a-z0-9]+/g, '-')
                    .replace(/^-+|-+$/g, '');
            }

            // Find all H2 and H3 headings
            const headings = content.querySelectorAll('h2, h3');
            const tocItems = [];

            headings.forEach((heading, index) => {
                const level = heading.tagName.toLowerCase();
                const text = heading.textContent.trim();

                // Skip if heading is too short or is a service certification heading
                if (text.length < 2 || text === 'Service Certification') return;

                // Generate ID if it doesn't exist
                let id = heading.id;
                if (!id) {
                    id = generateSlug(text);
                    // Ensure unique ID
                    let uniqueId = id;
                    let counter = 1;
                    while (document.getElementById(uniqueId)) {
                        uniqueId = id + '-' + counter;
                        counter++;
                    }
                    heading.id = uniqueId;
                    id = uniqueId;
                }

                // Create TOC item
                const li = document.createElement('li');
                li.className = 'docs-toc-item';
                li.setAttribute('data-level', level === 'h2' ? '2' : '3');

                const link = document.createElement('a');
                link.className = 'docs-toc-link';
                link.href = '#' + id;
                link.textContent = text;
                link.setAttribute('data-target', id);

                li.appendChild(link);
                tocList.appendChild(li);
                tocItems.push({ id, link, element: heading });
            });

            // Scroll spy functionality
            let activeLink = null;

            function updateActiveLink() {
                let currentId = null;
                const scrollPos = window.scrollY + 100; // Offset for better UX

                // Find the heading closest to the top of viewport
                for (let i = tocItems.length - 1; i >= 0; i--) {
                    const item = tocItems[i];
                    const rect = item.element.getBoundingClientRect();
                    const absoluteTop = rect.top + window.scrollY;

                    if (absoluteTop <= scrollPos) {
                        currentId = item.id;
                        break;
                    }
                }

                // Update active state
                if (currentId && (!activeLink || activeLink.getAttribute('data-target') !== currentId)) {
                    tocItems.forEach(item => {
                        item.link.classList.remove('active');
                    });

                    const newActiveItem = tocItems.find(item => item.id === currentId);
                    if (newActiveItem) {
                        newActiveItem.link.classList.add('active');
                        activeLink = newActiveItem.link;
                    }
                }
            }

            // Throttle scroll events for performance
            let scrollTimeout;
            window.addEventListener('scroll', function() {
                if (scrollTimeout) {
                    window.cancelAnimationFrame(scrollTimeout);
                }
                scrollTimeout = window.requestAnimationFrame(updateActiveLink);
            });

            // Initial update
            updateActiveLink();

            // Smooth scroll on click
            tocList.addEventListener('click', function(e) {
                if (e.target.classList.contains('docs-toc-link')) {
                    e.preventDefault();
                    const targetId = e.target.getAttribute('data-target');
                    const targetElement = document.getElementById(targetId);

                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });

                        // Update URL without jumping
                        history.pushState(null, '', '#' + targetId);
                    }
                }
            });

            // Handle initial hash in URL
            if (window.location.hash) {
                setTimeout(() => {
                    const targetElement = document.querySelector(window.location.hash);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                        updateActiveLink();
                    }
                }, 100);
            }
        })();
    </script>
</body>
</html>